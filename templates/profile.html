{% extends 'base.html' %}
{% load static %}
{% block content %}

    <!--Profile Main-->

    <div class="container m-auto">
        <div class="row">
            <div class="col-2 text-start">
            </div>
            <div class="col-7 justify-content-center">
                <div class="row bg-dark mt-0 mb-5 mx-3 position-relative">
                    <a href="#" class="">
                        <img src="" class="rounded-circle position-relative" style="transform: translateY(35%);"
                             width="150" height="150" alt=""/>
                    </a>
                </div>
                <div class="row mb-3 mx-3">
                <div class="col-10">
                    <h5 class="mb-0 mt-3">
                        <a href="#" class="text-decoration-none text-body-emphasis">{{ profile.first_name }} {{ profile.last_name }}</a>
                    </h5>
                    <p class="mb-0 mt-1 text-secondary small">
                        {{ profile.bio }}
                    </p>
                    <p class="mb-0 mt-1">
                        <a href="{% url 'collaborations' profile.user_id %}" class="text-decoration-none small text-body-emphasis">3 collaborations</a>
                    </p>
                </div>
                <div class="col-2 d-flex align-items-center">
                    {% if edit %}
                    <a href="{% url 'edit_profile' %}"><button class="btn rounded-pill text-light" style="background-color: #436850">

                        Edit
                        <svg xmlns="http://www.w3.org/2000/svg" width="15" height="20" viewBox="0 0 15 20" fill="none">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M10.1437 6.74654L9.27699 5.87983L3.97691 11.1799L3.56027 12.4633L4.84363 12.0466L10.1437 6.74654ZM5.50215 13.1215L2.79541 14.0003C2.31926 14.1549 1.86868 13.7043 2.02326 13.2281L2.902 10.5214L9.27699 4.14639L11.8771 6.74654L5.50215 13.1215Z" fill="white"></path>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M12.7439 2.41295C12.2652 1.93427 11.4891 1.93427 11.0105 2.41295L10.1437 3.27967L12.7439 5.87982L13.6106 5.0131C14.0893 4.53443 14.0893 3.75834 13.6106 3.27967L12.7439 2.41295Z" fill="white"></path>
                        </svg>
                            </button></a>
                    {% else %}
                    <a href="{% url 'collaborate' profile.user_id %}"><button class="btn rounded-pill text-light" style="background-color: #436850">
                        Collaborate
                        <svg xmlns="http://www.w3.org/2000/svg" width="15" height="16" viewBox="0 0 15 16" fill="none">
                            <g clip-path="url(#clip0_103_3334)">
                                <path d="M9.95124 13.535V12.3093C9.95124 11.6591 9.69297 11.0356 9.23323 10.5758C8.77349 10.1161 8.14996 9.85782 7.49979 9.85782H3.20975C2.55959 9.85782 1.93605 10.1161 1.47631 10.5758C1.01658 11.0356 0.758301 11.6591 0.758301 12.3093V13.535M12.4027 5.56778V9.24496M14.2413 7.40637H10.5641M7.80622 4.95492C7.80622 6.30881 6.70867 7.40637 5.35477 7.40637C4.00087 7.40637 2.90332 6.30881 2.90332 4.95492C2.90332 3.60102 4.00087 2.50346 5.35477 2.50346C6.70867 2.50346 7.80622 3.60102 7.80622 4.95492Z" stroke="#F5F5F5" stroke-linecap="round" stroke-linejoin="round"/>
                            </g>
                            <defs>
                                <clipPath id="clip0_103_3334">
                                    <rect width="14.7087" height="14.7087" fill="white" transform="translate(0.145508 0.664875)"/>
                                </clipPath>
                            </defs>
                        </svg>
                    {% endif %}
                    </button></a>
                </div>

            </div>

                <!-- Tabs -->
                <div class="bd-example-snippet bd-code-snippet ">
                    <div class="bd-example m-0 border-0">
                        <nav class="mx-3">
                            <div class="nav nav-tabs mb-3" id="nav-tab" role="tablist">
                                <button class="nav-link text-dark active" id="nav-home-tab" data-bs-toggle="tab"
                                        data-bs-target="#nav-home" type="button" role="tab" aria-controls="nav-home"
                                        aria-selected="true">Home
                                </button>
                                <button class="nav-link text-dark" id="nav-skills-tab" data-bs-toggle="tab"
                                        data-bs-target="#nav-skills" type="button" role="tab" aria-controls="nav-skills"
                                        aria-selected="false" tabindex="-1">Skills & Certifications
                                </button>
                                <button class="nav-link text-dark" id="nav-contact-tab" data-bs-toggle="tab"
                                        data-bs-target="#nav-contact" type="button" role="tab"
                                        aria-controls="nav-contact"
                                        aria-selected="false" tabindex="-1">Contact
                                </button>
                            </div>
                        </nav>
                        <!-- Home Tab -->
                        <div class="tab-content" id="nav-tabContent">
                            <div class="tab-pane fade active show" id="nav-home" role="tabpanel"
                                 aria-labelledby="nav-home-tab">
                                {% for post in posts %}
                                <div class="row pt-3 pb-2 px-5">
                                    <div class="border rounded-4">
                                        <div class="row pt-3">
                                            <div class="col-10 d-flex align-items-center ps-3">
                                                <div class="px-3">
                                                    <a href="{% url 'profile' post.profile.user_id %}" class="">
                                                        <img src="{{ post.profile.profile_pic }}" class="rounded-circle" width="48" height="48" alt=""/>
                                                    </a>
                                                </div>
                                                <div class="text-start">
                                                    <p class="mb-0 mt-3">
                                                        <a href="{% url 'profile' post.profile.user_id %}" class="text-decoration-none text-body-emphasis">
                                                        {{ post.profile.first_name }} {{ post.profile.last_name }}
                                                        </a>
                                                    </p>
                                                    <p class="mb-3 small text-secondary">{{ post.created.date}}</p>
                                                </div>
                                            </div>

                                            <div class="col-2 text-end pe-4">
                                                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                                                     fill="#000000">
                                                    <path d="M240-400q-33 0-56.5-23.5T160-480q0-33 23.5-56.5T240-560q33 0 56.5 23.5T320-480q0 33-23.5 56.5T240-400Zm240 0q-33 0-56.5-23.5T400-480q0-33 23.5-56.5T480-560q33 0 56.5 23.5T560-480q0 33-23.5 56.5T480-400Zm240 0q-33 0-56.5-23.5T640-480q0-33 23.5-56.5T720-560q33 0 56.5 23.5T800-480q0 33-23.5 56.5T720-400Z"></path>
                                                </svg>
                                            </div>
                                        </div>

                                        <div class="row">
                                            <p class="text-start px-5 py-2">
                                                {{ post.content }}
                                            </p>
                                        </div>
                                        <div class="row d-flex text-end">
                                            <div class="col-9">

                                            </div>
                                            <div class="col-1 pb-3 pe-0">
                                                <a href="" onclick="" class="text-decoration-none">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 15 15"
                                                         fill="none">
                                                        <path d="M2.5 11.25L1.96967 10.7197L1.43934 11.25L1.96967 11.7803L2.5 11.25ZM12.625 8.125C12.625 7.71079 12.2892 7.375 11.875 7.375C11.4608 7.375 11.125 7.71079 11.125 8.125L12.625 8.125ZM5 8.75L4.46967 8.21967L1.96967 10.7197L2.5 11.25L3.03033 11.7803L5.53033 9.28033L5 8.75ZM2.5 11.25L1.96967 11.7803L4.46967 14.2803L5 13.75L5.53033 13.2197L3.03033 10.7197L2.5 11.25ZM2.5 11.25L2.5 12L8.75 12L8.75 11.25L8.75 10.5L2.5 10.5L2.5 11.25ZM8.75 11.25L8.75 12C10.8901 12 12.625 10.2651 12.625 8.125L11.875 8.125L11.125 8.125C11.125 9.43668 10.0617 10.5 8.75 10.5L8.75 11.25Z"
                                                              fill="#222222"></path>
                                                        <path d="M12.5 3.75L13.0303 4.28033L13.5607 3.75L13.0303 3.21967L12.5 3.75ZM2.375 6.875C2.375 7.28921 2.71079 7.625 3.125 7.625C3.53921 7.625 3.875 7.28921 3.875 6.875L2.375 6.875ZM10 6.25L10.5303 6.78033L13.0303 4.28033L12.5 3.75L11.9697 3.21967L9.46967 5.71967L10 6.25ZM12.5 3.75L13.0303 3.21967L10.5303 0.71967L10 1.25L9.46967 1.78033L11.9697 4.28033L12.5 3.75ZM12.5 3.75L12.5 3L6.25 3L6.25 3.75L6.25 4.5L12.5 4.5L12.5 3.75ZM6.25 3.75L6.25 3C4.1099 3 2.375 4.7349 2.375 6.875L3.125 6.875L3.875 6.875C3.875 5.56332 4.93832 4.5 6.25 4.5L6.25 3.75Z"
                                                              fill="#222222"></path>
                                                    </svg>
                                                </a>
                                                4
                                            </div>
                                            <div class="col-1 pe-1">
                                                <a href="" onclick="" class="text-decoration-none">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="15" viewBox="0 0 16 15"
                                                         fill="none">
                                                        <path d="M12.7858 6.25L13.3161 6.78033L13.8464 6.25L13.3161 5.71967L12.7858 6.25ZM2.03577 11.25C2.03577 11.6642 2.37155 12 2.78577 12C3.19998 12 3.53577 11.6642 3.53577 11.25L2.03577 11.25ZM9.66077 9.375L10.1911 9.90533L13.3161 6.78033L12.7858 6.25L12.2554 5.71967L9.13044 8.84467L9.66077 9.375ZM12.7858 6.25L13.3161 5.71967L10.1911 2.59467L9.66077 3.125L9.13044 3.65533L12.2554 6.78033L12.7858 6.25ZM12.7858 6.25L12.7858 5.5L7.78577 5.5L7.78577 6.25L7.78577 7L12.7858 7L12.7858 6.25ZM7.78577 6.25L7.78577 5.5C4.61013 5.5 2.03577 8.07436 2.03577 11.25L2.78577 11.25L3.53577 11.25C3.53577 8.90279 5.43856 7 7.78577 7L7.78577 6.25Z"
                                                              fill="#222222"></path>
                                                    </svg>
                                                </a>
                                                4
                                            </div>
                                            <div class="col-1 pe-4">
                                                <a href="{% url 'bookmark_post' post.id %}" onclick="" class="text-decoration-none">
                                                    {% if bookmarked %}
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="12" height="15" viewBox="0 0 12 15"
                                                             fill="none">
                                                            <path d="M7.88684 0C8.46149 -9.14525e-06 8.93596 -0.000299274 9.32239 0.03125C9.72374 0.0640501 10.093 0.134999 10.4396 0.311523C10.977 0.585391 11.4147 1.02216 11.6886 1.55957C11.8652 1.90622 11.9361 2.27626 11.9689 2.67773C12.0004 3.06419 12.0001 3.53859 12.0001 4.11328V14.2861C12 14.5649 11.8373 14.818 11.5841 14.9346C11.3307 15.0511 11.0322 15.0096 10.8204 14.8281L6.28528 10.9404L1.75012 14.8281C1.53841 15.0094 1.24069 15.0509 0.987427 14.9346C0.734127 14.8181 0.571578 14.5649 0.571411 14.2861V4.11328C0.571402 3.53858 0.571119 3.0642 0.602661 2.67773C0.635465 2.27624 0.7063 1.90624 0.882935 1.55957C1.1568 1.02231 1.59372 0.585383 2.13098 0.311523C2.47762 0.134923 2.84769 0.0640506 3.24915 0.03125C3.63559 -0.000282439 4.11005 -9.10559e-06 4.68469 0H7.88684Z"
                                                                  fill="#13121B"></path>
                                                        </svg>
                                                    {% else %}
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="12" height="15" viewBox="0 0 12 15"
                                                             fill="none">
                                                            <path fill-rule="evenodd" clip-rule="evenodd"
                                                                  d="M4.68477 3.08065e-07H7.88662C8.4616 -8.80292e-06 8.93614 -1.62955e-05 9.32271 0.0315675C9.72421 0.0643712 10.0933 0.134774 10.4399 0.31141C10.9776 0.585334 11.4146 1.02242 11.6886 1.56003C11.8652 1.90669 11.9356 2.27577 11.9684 2.67727C12 3.06384 12 3.53839 12 4.11337V14.2857C12 14.5647 11.8376 14.8181 11.5842 14.9346C11.3307 15.0512 11.0326 15.0096 10.8208 14.828L6.28569 10.9408L1.75055 14.828C1.53875 15.0096 1.24066 15.0512 0.987228 14.9346C0.733799 14.8181 0.571412 14.5647 0.571412 14.2857L0.571411 4.11336C0.571402 3.53838 0.571395 3.06383 0.602979 2.67727C0.635782 2.27577 0.706185 1.90669 0.882822 1.56003C1.15675 1.02242 1.59383 0.585334 2.13144 0.31141C2.47811 0.134774 2.84718 0.0643712 3.24868 0.0315675C3.63525 -1.62955e-05 4.10979 -8.80292e-06 4.68477 3.08065e-07ZM3.36501 1.45539C3.05185 1.48098 2.89171 1.52735 2.78 1.58428C2.51119 1.72124 2.29265 1.93978 2.15569 2.20858C2.09877 2.3203 2.05239 2.48044 2.0268 2.7936C2.00054 3.11509 1.99998 3.53101 1.99998 4.14285V12.7327L5.82084 9.45767C6.08834 9.22839 6.48305 9.22839 6.75054 9.45767L10.5714 12.7327V4.14286C10.5714 3.53101 10.5708 3.11509 10.5446 2.7936C10.519 2.48044 10.4726 2.3203 10.4157 2.20858C10.2787 1.93978 10.0602 1.72124 9.79139 1.58428C9.67968 1.52735 9.51953 1.48098 9.20638 1.45539C8.88489 1.42913 8.46896 1.42857 7.85712 1.42857H4.71427C4.10242 1.42857 3.6865 1.42913 3.36501 1.45539Z"
                                                                  fill="#13121B"></path>
                                                        </svg>
                                                    {% endif %}
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                {% endfor %}
                            </div>
                            <!-- Skills & Certifications -->
                            <div class="tab-pane fade" id="nav-skills" role="tabpanel" aria-labelledby="nav-skills-tab">
                                {% for cert in certifications %}
                                <div class="row pt-3 px-5">
                                    <div class="border rounded-4 mb-2 row justify-content-center">
                                        <div class="col-2 d-flex align-items-center">
                                            <a href="#" class="">
                                                <img src="" class="" width="58" height="58" alt=""/>
                                            </a>
                                        </div>
                                        <div class="col-8 px-4">
                                            <p class="mb-0 mt-3">{{ cert.name }}</p>
                                            <hr class="mt-1 mb-2">
                                            <p class="mb-1 small"><a href="" class="text-decoration-none text-secondary link-body-emphasis">
                                                {{ cert.company }}</a>
                                            </p>
                                            <p class="mb-3 small fst-italic text-secondary">Issued {{ cert.date.year }}</p>
                                        </div>
                                        <div class="col-2 text-end pe-0">
                                            <svg xmlns="http://www.w3.org/2000/svg" height="24px"
                                                 viewBox="0 -960 960 960" width="24px"
                                                 fill="#000000">
                                                <path d="M240-400q-33 0-56.5-23.5T160-480q0-33 23.5-56.5T240-560q33 0 56.5 23.5T320-480q0 33-23.5 56.5T240-400Zm240 0q-33 0-56.5-23.5T400-480q0-33 23.5-56.5T480-560q33 0 56.5 23.5T560-480q0 33-23.5 56.5T480-400Zm240 0q-33 0-56.5-23.5T640-480q0-33 23.5-56.5T720-560q33 0 56.5 23.5T800-480q0 33-23.5 56.5T720-400Z"></path>
                                            </svg>
                                        </div>
                                    </div>
                                </div>
                                {% endfor %}
                            </div>
                            <!-- Contact -->
                            <div class="tab-pane fade" id="nav-contact" role="tabpanel"
                                 aria-labelledby="nav-contact-tab">
                                <div class="row pt-3 px-5">
                                    <div class="border rounded-4 mb-2 row justify-content-center">
                                        <div class="col-1 d-flex align-items-center">
                                            <svg xmlns="http://www.w3.org/2000/svg" height="24px"
                                                 viewBox="0 -960 960 960" width="24px" fill="#000000">
                                                <path d="M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160H160Zm320-280L160-640v400h640v-400L480-440Zm0-80 320-200H160l320 200ZM160-640v-80 480-400Z"></path>
                                            </svg>
                                        </div>
                                        <div class="col-11">
                                            <p class="mt-3 mb-3"><a href=""
                                                                    class="text-decoration-none text-dark link-body-emphasis">{{ profile.contact }}</a>
                                            </p>
                                        </div>
                                        <hr class="mb-0">
                                        <div class="col-1 d-flex align-items-center mt-3 mb-3">
                                            <svg xmlns="http://www.w3.org/2000/svg" height="24px"
                                                 viewBox="0 -960 960 960" width="24px" fill="#000000">
                                                <path d="M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h280v80H200v560h560v-280h80v280q0 33-23.5 56.5T760-120H200Zm188-212-56-56 372-372H560v-80h280v280h-80v-144L388-332Z"></path>
                                            </svg>
                                        </div>
                                        <div class="col-11">
                                            <span class="mt-3 mb-3 d-flex align-items-center"><a href="" class="text-decoration-none text-dark link-body-emphasis">{{ profile.website }}</a></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="row pt-3 px-5">
                                    <div class="border rounded-4 mb-2 row justify-content-center">
                                        <div class="col-10 px-3 pt-3">
                                            <h5 class=" pb-1">About me</h5>
                                        </div>
                                        <div class="col-2 text-end pe-2 d-flex align-items-center justify-content-end">
                                            <svg xmlns="http://www.w3.org/2000/svg" height="24px"
                                                 viewBox="0 -960 960 960" width="24px"
                                                 fill="#000000">
                                                <path d="M240-400q-33 0-56.5-23.5T160-480q0-33 23.5-56.5T240-560q33 0 56.5 23.5T320-480q0 33-23.5 56.5T240-400Zm240 0q-33 0-56.5-23.5T400-480q0-33 23.5-56.5T480-560q33 0 56.5 23.5T560-480q0 33-23.5 56.5T480-400Zm240 0q-33 0-56.5-23.5T640-480q0-33 23.5-56.5T720-560q33 0 56.5 23.5T800-480q0 33-23.5 56.5T720-400Z"></path>
                                            </svg>
                                        </div>
                                        <hr class="mb-0">
                                        <p class="opacity-75 p-3">
                                            {{ profile.about_me }}
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sidebar -->

            <div class="col-3 text-start">
                <div class="row position-sticky" style="top: 6.5rem;" id="recommendations">
                    {% if mutual %}
                        <h5 class="py-2">Mutual collaborators</h5>
                        {% for collab in mutuals %}
                        <br>
                        <div class="border rounded-4 mb-2 row">
                            <div class="col-2 d-flex align-items-center">
                                <a href="{% url 'profile' collab.user_id %}" class="">
                                    <img src="{{ collab.profile_pic }}" class="rounded-circle" width="48" height="48" alt=""/>
                                </a>
                            </div>
                            <div class="col-10 px-4 gap-0">
                                <p class="mb-0 mt-3">
                                    <a href="{% url 'profile' collab.user_id %}" class="text-decoration-none text-body-emphasis">
                                        {{ collab.first_name }} {{ collab.last_name }}
                                    </a>
                                </p>
                                <p class="mb-3 small">
                                    <a href="{% url 'collaborations' collab.user_id %}" class="text-decoration-none text-secondary link-body-emphasis">
                                        3 mutual collaborators
                                    </a>
                                </p>
                            </div>
                        </div>
                        {% endfor %}
                    {% else %}
                        <h5 class="py-2">People you may know</h5>
                        {% for profile in profiles %}
                        <br>
                        <div class="border rounded-4 mb-2 row">
                            <div class="col-2 d-flex align-items-center">
                                <a href="{% url 'profile' profile.user_id %}" class="">
                                    <img src="{{ profile.profile_pic }}" class="rounded-circle" width="48" height="48" alt=""/>
                                </a>
                            </div>
                            <div class="col-10 px-4 gap-0">
                                <p class="mb-0 mt-3">
                                    <a href="{% url 'profile' profile.user_id %}" class="text-decoration-none text-body-emphasis">
                                        {{ profile.first_name }} {{ profile.last_name }}
                                    </a>
                                </p>
                                <p class="mb-3 small">
                                    <a href="{% url 'collaborations' profile.user_id %}" class="text-decoration-none text-secondary link-body-emphasis">
                                        0 mutual collaborators
                                    </a>
                                </p>
                            </div>
                        </div>
                        {% endfor %}
                    {% endif %}
                </div>
            </div>
        </div>
    </div>


{% endblock %}